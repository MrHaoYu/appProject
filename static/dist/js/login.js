function getImgsrc(){var a="dist/img/pic"+(Math.floor(10*Math.random())+1)+".png";return flag[a]?getImgsrc():(flag[a]=a,a)}function randomInitImg(){$(".pass-pic img").each(function(){$(this).attr("src",getImgsrc()),$(this).removeClass().addClass("r"+(Math.floor(4*Math.random())+1))}),flag={}}var flag={};$(".change-pic").click(function(){randomInitImg()}),$(".pass-pic img").click(function(){for(var a="r1 r2 r3 r4",s=a.split(" "),r=0;r<s.length&&!$(this).hasClass(s[r]);r++);r++,r%=4,$(this).removeClass(a).addClass(s[r]);var t=!0;$(".pass-pic img").each(function(){0==$(this).hasClass("r1")&&(t=!1)}),t&&alert("ok")}),randomInitImg();